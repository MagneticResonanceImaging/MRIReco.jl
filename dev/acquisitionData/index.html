<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Acquisition Data · Julia MRI Package</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Julia MRI Package logo"/></a><div class="docs-package-name"><span class="docs-autofit">Julia MRI Package</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../gettingStarted/">Getting Started</a></li><li><a class="tocitem" href="../overview/">Overview</a></li><li class="is-active"><a class="tocitem" href>Acquisition Data</a><ul class="internal"><li><a class="tocitem" href="#Raw-Data"><span>Raw Data</span></a></li><li><a class="tocitem" href="#Preprocessed-Data"><span>Preprocessed Data</span></a></li></ul></li><li><a class="tocitem" href="../filehandling/">File Handling</a></li><li><a class="tocitem" href="../image/">Images</a></li><li><a class="tocitem" href="../trajectories/">Trajectory</a></li><li><a class="tocitem" href="../operators/">Imaging Operators</a></li><li><a class="tocitem" href="../offresonance/">Offresonance</a></li><li><a class="tocitem" href="../SENSE/">Parallel Imaging</a></li><li><a class="tocitem" href="../compressedSensing/">Compressed Sensing</a></li><li><a class="tocitem" href="../custom/">Customize</a></li><li><a class="tocitem" href="../API/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Acquisition Data</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Acquisition Data</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/MagneticResonanceImaging/MRIReco.jl/blob/master/docs/src/acquisitionData.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Acquisition-Data"><a class="docs-heading-anchor" href="#Acquisition-Data">Acquisition Data</a><a id="Acquisition-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Acquisition-Data" title="Permalink"></a></h1><p>There are two different forms of acquisition data types in <code>MRIReco</code>:</p><ul><li><code>RawAcquisitionData</code></li><li><code>AcquisitionData</code></li></ul><p>While the former is used to hold the data in the form, how it will be written out from the scanner, the later has already performed some data permutations bringing the data into the shape how the reconstruction expects it.</p><h2 id="Raw-Data"><a class="docs-heading-anchor" href="#Raw-Data">Raw Data</a><a id="Raw-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Raw-Data" title="Permalink"></a></h2><p>The <code>RawAcquisitionData</code> is a data type that closely resembles the ISMRMRD data format. It looks like</p><pre><code class="language-julia">mutable struct RawAcquisitionData
  params::Dict{String, Any}
  profiles::Vector{Profile}
end</code></pre><p>with</p><pre><code class="language-julia">mutable struct Profile
  head::AcquisitionHeader
  traj::Array{Float32,2}
  data::Array{Complex{Float32},2}
end</code></pre><p>The <code>params</code> member of <code>RawAcquisitionData</code> is basically the a flattened dictionary derived from the XML part of an ISMRMRD file. A <code>Profile</code> describes the data measured after a single excitation during an MRI experiment. It has members <code>head</code>, <code>traj</code>, and <code>data</code>, which exactly resemble the structures specified by the ISMRMRD file format.</p><h2 id="Preprocessed-Data"><a class="docs-heading-anchor" href="#Preprocessed-Data">Preprocessed Data</a><a id="Preprocessed-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Preprocessed-Data" title="Permalink"></a></h2><p>The <code>RawAcquisitionData</code> can be preprocessed into a form, which makes it more convenient for reconstruction algorithms. The <code>AcquisitionData</code> type looks like</p><pre><code class="language-julia">mutable struct AcquisitionData
  sequenceInfo::Dict{Symbol,Any}
  traj::Vector{Trajectory}
  kdata::Array{Matrix{ComplexF64},3}
  subsampleIndices::Vector{Array{Int64}}
  encodingSize::Vector{Int64}
  fov::Vector{Float64}
end</code></pre><p>It consists of the sequence informations stored in a dictionary, the k-space trajectory, the k-space data, and several parameters describing the dimension of the data and some additional index vectors.</p><p>The k-space data <code>kdata</code> has three dimensions encoding</p><ol><li>dim : contrasts/echoes</li><li>dim : slices</li><li>dim : repetitions</li></ol><p>Each element is a matrix encoding</p><ol><li>dim : k-space nodes</li><li>dim : channels/coils</li></ol><p>In case of undersampled data, the subsampling indices are stored in <code>subsampleIndices</code>. One check if the data is undersampled by checking if <code>isempty(subsampleIndices)</code>.</p><p>The encoded space is stored in the field <code>encodingSize</code>. It is especially relevant for non-Cartesian trajectories where it is not clear upfront, how large the grid size for reconstruction should be chosen. Finally <code>fov</code> describes the physical lengths of the encoding grid.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../overview/">« Overview</a><a class="docs-footer-nextpage" href="../filehandling/">File Handling »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 13 September 2022 14:03">Tuesday 13 September 2022</span>. Using Julia version 1.8.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
